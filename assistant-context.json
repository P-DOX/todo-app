{
  "format": "assistant-context-v1",
  "lastUpdated": "2025-11-19T00:00:00Z",
  "project": {
    "name": "todo-app",
    "root": "E:\\todo-app",
    "description": "Static single-page todo app with calendar view. Tasks are stored in localStorage and associated with dates."
  },
  "files": {
    "index.html": "Contains the calendar panel (left) and tasks panel (right). Calendar elements: #days, #month-label, #prev-month, #next-month. Tasks elements: #task-form, #task-input, #task-list, #clear-completed.",
    "css/styles.css": "Styles for layout, calendar grid (.calendar-grid .day), selected/today states, and responsive rules.",
    "js/app.js": "Main front-end logic. STORAGE_KEY: 'todo.tasks.v1'. Tasks now include a 'date' property (YYYY-MM-DD). Exposes functions to render calendar, manage selectedDate, and CRUD tasks stored in localStorage.",
    "scripts/update-readme.js": "Node script that replaces content between <!-- AUTO-GENERATED:START --> and <!-- AUTO-GENERATED:END --> in README.md with a generated file list and timestamps.",
    "README.md": "Project README (contains AUTO-GENERATED markers used by update script).",
    "package.json": "Contains script 'update-readme' -> 'node scripts/update-readme.js'.",
    "hooks/pre-commit": "Sample pre-commit hook that runs 'npm run update-readme' and stages README.md."
  },
  "runtime": {
    "nodeRequired": true,
    "nodeNotes": "`scripts/update-readme.js` requires Node.js to run. If you want the assistant to run the updater, ensure Node/npm is available in the environment.",
    "httpServerSuggestions": [
      "python -m http.server 8000",
      "npm install -g serve; serve -s ."
    ]
  },
  "conventions": {
    "storageKey": "todo.tasks.v1",
    "dateFormat": "YYYY-MM-DD (ISO date portion)",
    "autoGeneratedMarkers": {
      "start": "<!-- AUTO-GENERATED:START -->",
      "end": "<!-- AUTO-GENERATED:END -->"
    }
  },
  "retention": {
    "policy": "rolling",
    "days": 365,
    "note": "Tasks with dates older than the cutoff are removed on load by the front-end script. Future-dated items are preserved."
  },
  "serverStorage": {
    "available": true,
    "serverFile": "data/tasks.json",
    "serverScript": "server.js",
    "startCommands": ["npm install","npm start"],
    "api": {
      "ping": "/api/ping",
      "getTasks": "/api/tasks?date=YYYY-MM-DD",
      "sync": "/api/sync (POST full array)",
      "create": "/api/tasks (POST)",
      "update": "/api/tasks/:id (PUT)",
      "delete": "/api/tasks/:id (DELETE)"
    }
  },
  "assistantInstructions": {
    "purpose": "This file provides structured context about the repository so the assistant can reason about edits and run scripts.",
    "onUpdate": "When the user updates source files, update README.md's auto-generated section by running 'node scripts/update-readme.js' (or 'npm run update-readme').",
    "howToUse": "Parse this JSON to get file roles, run commands, and conventions. Use STORAGE_KEY and dateFormat when manipulating tasks. Update 'lastUpdated' when you make repository-changing edits.",
    "contactUser": "If Node is not available in the environment, inform the user and provide the exact PowerShell commands they should run locally."
  },
  "examples": {
    "sampleTask": { "id": "<timestamp>", "title": "Buy milk", "completed": false, "date": "2025-11-19" }
  }
}
